% šablona na pro bakalářskou práci na FAI UTB
% šablona je úpravou původní šablony pro FAI UTB
% už neznám púvodního autora šablona už není na internetu
% upravil Martin Zajíc
% šablona je upravena aby šla bez problému přeložit pomocí TeXlive a překladače XeLaTeX
% 
\documentclass[a4paper,12pt]{article}
\usepackage{xltxtra}
\usepackage[czech]{babel}
\usepackage{listings}
\usepackage{indentfirst}
\usepackage{color}
\usepackage[svgnames]{xcolor} 
\usepackage{colortbl}
\usepackage{array}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{fancyhdr}
\usepackage{fancyvrb}
\usepackage{fancybox,calc} 
\usepackage{hyperref}
\usepackage{multirow}
\usepackage{tocloft}
\usepackage{textcase}
\usepackage{ifthen}
\usepackage{setspace}
\usepackage{ccaption}
\usepackage{sectsty}
\usepackage{wrapfig}
%\usepackage[srcstyle=leftnumhang,linenumbersep={\ }]{examplep}
% ************************ NASTAVENÍ AUTORA A NÁZVU DOKUMENTU ************************
\newcommand{\rok}{2011}
\newcommand{\jmeno}{Martin Zajíc}
\newcommand{\typprace}{Bakalářská práce}
\newcommand{\predmet}{Tvorba distribuce OS Linux}
\newcommand{\predmeten}{Building Linux distribution}
% ************************ NASTAVENÍ TISKOVÉHO ZRCADLA ************************
\textheight=248mm
\textwidth=155mm
\voffset=-1.61cm
\oddsidemargin=0.96cm
\evensidemargin=0.96cm

% nastavení záhlaví
\headheight=0.5cm
\headsep=1cm

% nastavení zápatí
\footskip=1ex
\rhead{\thepage}
\cfoot{}
% "vypnout" poznámky na okrajích
\marginparpush=0mm
\marginparwidth=0mm
\marginparsep=0mm

\pagestyle{fancy}
% ****************** NASTAVENÍ HYPERPREF (BAREV ODKAZŮ, PDF DOKUMENTU) **************
\hypersetup{
    pdftoolbar=true,        % show Acrobat’s toolbar?
    pdfmenubar=true,        % show Acrobat’s menu?
    pdftitle={\typprace~-~\predmet },    % title
    pdfauthor={\jmeno},     % author
    pdfsubject={\predmet},   % subject of the document
    pdfcreator={\jmeno},   % creator of the document
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=black,          % color of internal links
    citecolor=black,        % color of links to bibliography
    filecolor=black,      % color of file links
    urlcolor=black           % color of external links
}

% ****************** NASTAVENÍ PÍSMA, ODSTAVCE, ROVNIC, POZNÁMEK **************
\parindent=0em
\def\thefootnote{\arabic{footnote})}	% poznámka pod čarou se závorkou
\onehalfspacing % nastavím řádkování tímto způsobem nebo \renewcommand{\baselinestretch}{1.5} ??
\setlength{\parskip}{3pt}		% vertikální mezera mezi nadpisy
% *************************** NASTAVENÍ ČÍTAČŮ	 ********************************
\setcounter{tocdepth}{3} % do obsahu se ukládají pouze první dvě úrovně kapitol

% *************************** UŽIVATELSKÉ STYLY *******************************
\newcommand{\nn}[1]{\clearpage\section*{\texorpdfstring{\uppercase{#1}}{#1}}\addcontentsline{toc}{section}{\uppercase{#1}}}% styl nn = nečíslovaný nadpis (je vysázený v obsahu)
\newcommand{\nm}[1]{\clearpage\section*{\uppercase{#1}}}	% definujeme styl nm = nečíslovaný nadpis (není vysázený v obsahu)
\newcommand{\nmm}[1]{\section*{#1}} % definujeme styl nmm = nečíslovaný nadpis (není vysázený v obsahu) malými písmeny bez clearpage
\newcommand{\nns}[1]{\section*{\uppercase{#1}}}		% definujeme styl ns = nečíslovaný nadpis na stejné stránce (není vysázený v obsahu)
\newcommand{\sectionV}[1]{\section{\uppercase{#1}}}	%nadpis1 (section) velkým

\newcommand{\nadpis}[1]{%nadpis pod kterym je vertikalni mezera
	\vspace{4 mm}
	\textbf{#1}\\
	\vspace{4 mm}
	}

\newcommand{\obr}[3]{% styl \obr pro obrázky
	\begin{figure}[h]
	\center\includegraphics[scale=#2]{#1}
	\caption{#3}
	\end{figure}
	}

\newcommand{\tab}[3]{% styl \tab pro tabulky
	\begin{table}[h]
	\caption{#1}
	\begin{center}
	\begin{tabular}{#2}
	#3
	\end{tabular}
	\end{center}
	\end{table}
	}

\newcommand{\tabpri}[3]{% styl \tabpri pro tabulky v příloze
	\begin{table}[h]
	\begin{center}
	#1
	\end{center}
	\begin{center}
	\begin{tabular}{#2}
	#3
	\end{tabular}
	\end{center}
	\end{table}
	}

\newcommand{\rov}[2][chybějici rovnice]{% styl \rov pro rovnice
	\begin{equation}
	#2
	\label{#1}
	\end{equation}
	}
	
\newcommand{\seznamobr}{% příkaz \seznamobr pro vysázení seznamu obrázků
	\addcontentsline{toc}{section}{\listfigurename}
	\clearpage
	\listoffigures
	\clearpage
	}

\newcommand{\seznamtab}{% příkaz \seznamtab pro vysázení seznamu obrázků
	\addcontentsline{toc}{section}{\listtablename}
	\clearpage
	\listoftables
	\clearpage
	}
	
\newcommand{\seznamlit}[1]{% příkaz \seznamlit pro vysázení seznamu literatury
	\addcontentsline{toc}{section}{\refname}
	\begin{thebibliography}{10}
	#1
	\end{thebibliography}}
	
\newcommand{\seznamzkr}{% příkaz \seznamzkr pro přípravu seznamu použitých zkratek a symbolů
	\nn{Seznam použitých symbolů a zkratek}
	}
	
\newcommand{\obsah}{% \obsah vysází obsah v daném místě
	\clearpage
	\thispagestyle{empty}
	\tableofcontents
	\clearpage
	\pagestyle{fancy}
	}

\renewcommand{\b}[1]{\textbf{#1}} % \b = tučně
\newcommand{\bi}[1]{\textbf{\textit{#1}}}	% \bi = tučná kurzíva
\renewcommand{\it}[1]{\textit{#1}}		% \it = kurzíva
	
% ******* NASTAVENÍ ZOBRAZENÍ PŘÍLOH -- SEZNAM, ČÍSLOVÁNÍ, VLASTNÍ STYL *******
\makeatletter % tímto příkazem dávám najevo, že budu editovat přímo příkazy ze šablony

% definice seznamu příloh - příkaz \listofappendices
\newcommand{\listofappendices}{%
	\newpage
	\setcounter{section}{0}
	\nn{Seznam příloh}
	\@restonecolfalse\if@twocolumn\@restonecoltrue\onecolumn\fi
	\@mkboth{LIST OF APPENDICES}{LIST OF APPENDICES}
	\@starttoc{loa}\if@restonecol\twocolumn\fi
	\pagestyle{empty}
	\thispagestyle{fancy}
	}

\def\ext@appendix{loa}
\def\tocname{loa}

% definice příkazu \priloha{nazev prilohy} pro vložení nové přílohy
\newcommand{\priloha}[1]{
	\clearpage
	\refstepcounter{section}
	\addtocontents{loa}{\protect\makebox[1.5cm][l]{P \@Roman\c@section.} #1\newline}
{\bf PŘÍLOHA P \@Roman\c@section. \uppercase{#1}}\par}

% v obsahu nastavím VELKÉ PÍSMENA pro styl část
\renewcommand{\part}[1]{
	\refstepcounter{part}
	\addcontentsline{toc}{section}{\thepart~~\uppercase{#1}}%
\clearpage
\normalfont
	\vspace*{9cm}
	\begin{center}\huge \bfseries\thepart. \uppercase{#1}\end{center}%
	\markboth{}{}\par
\nobreak
\clearpage	
}
% *******************Barevný code *******************
\definecolor{codeback}{gray}{0.8} % 10% 
\newenvironment{codeframe}{% 
  \begin{Sbox} 
    \begin{minipage} 
      {\columnwidth-\leftmargin-\rightmargin-2\fboxsep-2\fboxrule-4pt} 
}{% 

  \end{minipage} 
  \end{Sbox} 
  \begin{center} 
    \fcolorbox{black}{codeback}{\TheSbox} 
  \end{center} 
} 

% *************** NASTAVENÍ FORMÁTU ČÍSLOVÁNÍ OBRÁZKŮ A TABULEK ***************
\def\thefigure{\arabic{figure}}      % číslování obrázků typu (y)
\def\thetable{\arabic{table}}        % číslování tabulek typu (y)
\captiondelim{. } % změníme dvoutečku za Obr/Tab za tečku

% ***************************** VYNULOVÁNÍ ČÍTAČŮ *****************************
\@addtoreset{table}{section}    % vynulování čítače
\@addtoreset{figure}{section}   % vynulování čítače
\@addtoreset{footnote}{section} % vynulování čítače
	
\makeatother % a to je ukončení \makeatletter

% ************* ÚPRAVA VZHLEDU OBSAHU, SEZNAMU OBRÁZKÙ A TABULEK **************
% nastavení vertikální mezery před stylem část, nadpis 1--3
\setlength{\cftbeforepartskip}{3pt}
\setlength{\cftbeforesecskip}{3pt}
\setlength{\cftbeforesubsecskip}{3pt}
\setlength{\cftbeforesubsubsecskip}{0cm}
% odsazení zleva pro styl část, nadpis 1--3
\setlength{\cftpartindent}{0cm}
\setlength{\cftsecindent}{0cm}
\setlength{\cftsubsecindent}{0cm}
\setlength{\cftsubsubsecindent}{0cm}
% nastavení fontu pro styl část, nadpis 1--3
\renewcommand{\cftpartfont}{\small\bfseries}
\renewcommand{\cftsecfont}{\small\bfseries}
\renewcommand{\cftsubsecfont}{\scshape}
\renewcommand{\cftsubsubsecfont}{}
% odsazení čísla a textu titulku pro styl část, nadpis 1--3
\cftsetindents{part}{0cm}{1cm}
\cftsetindents{sec}{0cm}{1cm}
\cftsetindents{subsec}{1cm}{1.5cm}
\cftsetindents{subsubsec}{1.2cm}{1.7cm}
\cftsetindents{fig}{0cm}{1.5cm}
\cftsetindents{tab}{0cm}{1.5cm}
% nastavení vodící čáry pro styl část, nadpis 1--3, obrázky a tabulky
\renewcommand{\cftdot}{\ensuremath{.}} % tímto příkazem lze změnit vodící tečky v obsahu na jiný znak
\renewcommand{\cftpartleader}{\cftdotfill{0.3}}
\renewcommand{\cftsecleader}{\cftdotfill{0.3}}
\renewcommand{\cftsubsecleader}{\cftdotfill{0.3}}
\renewcommand{\cftsubsubsecleader}{\cftdotfill{0.3}}
\renewcommand{\cftfigleader}{\cftdotfill{0.3}}
\renewcommand{\cfttableader}{\cftdotfill{0.3}}
% změna fontu pro text "Obsah", "Seznam obrázků" a "Seznam tabulek"
\renewcommand{\cfttoctitlefont}{\normalsize\bfseries\thispagestyle{empty}}
\renewcommand{\cftloftitlefont}{\normalsize\bfseries\thispagestyle{fancy}}
\renewcommand{\cftlottitlefont}{\normalsize\bfseries\thispagestyle{fancy}}
\renewcommand{\cftfigpresnum}{Obr. }
\renewcommand{\cftfigaftersnum}{.}
\renewcommand{\cfttabpresnum}{Tab. }
\renewcommand{\cfttabaftersnum}{.}

% ************************ NASTAVENÍ FONTU PRO NADPISY ************************
\sectionfont{\normalsize}
\subsectionfont{\normalsize\bfseries} 
\subsubsectionfont{\normalsize\bfseries}
\paragraphfont{\small\bf}
% definice nového stylu \comment -- komentář k šabloně
%\newcommand{\comment}[1]{\color{red}#1\color{black}}

% ****************************** KONEC PREAMBULE ******************************
\begin{document}
% ****************************** Vlastní definice ******************************
% ********* musí být na začátku dokumnetu v preambuli nefungují ****************
\renewcommand{\refname}{\texorpdfstring{\uppercase{Seznam použité literatury}}{Seznam použité literatury}}
\renewcommand*{\listfigurename}{\texorpdfstring{\uppercase{Seznam obrázků}}{Seznam obrázků}}
\renewcommand{\contentsname}{\texorpdfstring{\uppercase{Obsah}}{Obsah}}
\renewcommand*{\listtablename}{\texorpdfstring{\uppercase{Seznam tabulek}}{Seznam tabulek}}
\renewcommand*{\tablename}{Tab.}
\renewcommand\figurename{Obr.}
%********************************* Hlavička ************************************
\lhead{\b{UTB ve Zlíně, Fakulta aplikované informatiky}}

\thispagestyle{empty}
\voffset=-2.01cm\evensidemargin=0pt\oddsidemargin=0cm\parindent=0pt\headsep=0pt\headheight=0pt\parskip=0pt\textheight=272mm\textwidth=200mm
\renewcommand{\baselinestretch}{0}
%********************************* Úvodní stránka s logem fakulty ********************
\setlength{\unitlength}{1mm}
\begin{picture}(-10,8)
\put(0,-50){\makebox(170,50){}}
%*******************************Uvodni stranka z nazvem prace na dva radky*********
%\put(0,-100){\makebox(170,50){\fontsize{24}{1}\b{\textsf{Zálohovací server založený na}}}}
%\put(0,-110){\makebox(170,50){\fontsize{24}{1}\b{\textsf{GNU/Linux Debian}}}}
%\put(0,-130){\makebox(170,50){\fontsize{20}{1}\b{\textsf{Backup server based on GNU/Linux Debian}}}}
%\put(0,-150){\makebox(170,25){\fontsize{20}{1}\b{\textsf{\jmeno}}}}
%*******************************konec uvodni stranka na dva radky***********************
\put(0,-115){\makebox(170,50){\fontsize{24}{1}\b{\textsf{\predmet}}}}
\put(0,-130){\makebox(170,50){\fontsize{22}{1}\b{\textsf{\predmeten}}}}
\put(0,-150){\makebox(170,25){\fontsize{20}{1}\b{\textsf{\jmeno}}}}
\put(82.2,-223.3){\makebox(84,16.4){\includegraphics[width=84mm]{fai_logo_cz.png}}}
\put(0,-205){\linethickness{1pt}\line(1,0){170}}
\put(4,-215){\makebox(69.5,4.5)[l]{\noindent\fontsize{16}{1}\b{\textsf{\typprace}}}}
\put(4,-220){\makebox(69.5,4.5)[l]{\noindent\fontsize{16}{1}\b{\textsf{\rok}}}}
\put(0,-225){\linethickness{1pt}\line(1,0){170}}
\put(75,-223.3){\linethickness{1pt}\line(0,1){16.4}}
\end{picture}
%********************************* nascanované zadání ************************************
\clearpage
\thispagestyle{empty}
\voffset=-1.61cm\evensidemargin=0.96cm\oddsidemargin=0.96cm\headsep=1cm\headheight=0.5cm\setlength{\parskip}{3pt}\textheight=248mm\textwidth=155mm
***nascannované zadání s. 1***
\obr{fai_logo_cz.png}{1}{logo}
\clearpage
\thispagestyle{empty}
***nascannované zadání s. 2***
\obr{fai_logo_cz.png}{1}{logo}
%********************************* Abstrakt ************************************
\clearpage
\thispagestyle{empty}
\nm{\uppercase{Abstrakt}}
\vspace{1cm}

\emph{Klíčová slova:}

\vspace{3cm}

\nns{\uppercase{Abstract}}

\vspace{1cm}

\emph{Keywords:}
%********************************* poděkování, motto, úryvky knih, básní atp. ************************************
\clearpage
\thispagestyle{empty}
poděkování, motto, úryvky knih, básní atp.
%********************************* Prohlášení ************************************
\clearpage
\thispagestyle{empty}
\clearpage
\nmm{Prohlašuji, že}
\begin{itemize}\fontsize{10}{1}
\normalsize
\item beru na vědomí, že odevzdáním bakalářské práce souhlasím se zveřejněním své práce podle zákona č. 111/1998 Sb. o vysokých školách a o změně a doplnění dalších zákonů (zákon o vysokých školách), ve znění pozdějších právních předpisů, bez ohledu na výsledek obhajoby;
\item beru na vědomí, že bakalářská práce bude uložena v elektronické podobě v univerzitním informačním systému dostupná k prezenčnímu nahlédnutí, že jeden výtisk bakalářské práce bude uložen v příruční knihovně Fakulty aplikované informatiky Univerzity Tomáše Bati ve Zlíně a jeden výtisk bude uložen u vedoucího práce; 
\item byl/a jsem seznámen/a s tím, že na moji bakalářskou práci se plně vztahuje zákon č. 121/2000 Sb. o právu autorském, o právech souvisejících s právem autorským a o změně některých zákonů (autorský zákon) ve znění pozdějších právních předpisů, zejm. § 35 odst. 3;
\item beru na vědomí, že podle § 60 odst. 1 autorského zákona má UTB ve Zlíně právo na uzavření licenční smlouvy o užití školního díla v rozsahu § 12 odst. 4 autorského zákona;
\item beru na vědomí, že podle § 60 odst. 2 a 3 autorského zákona mohu užít své dílo –bakalářskou práci nebo poskytnout licenci k jejímu využití jen s předchozím písemným souhlasem Univerzity Tomáše Bati ve Zlíně, která je oprávněna v takovém případě ode mne požadovat přiměřený příspěvek na úhradu nákladů, které byly Univerzitou Tomáše Bati ve Zlíně na vytvoření díla vynaloženy (až do jejich skutečné výše);
\item beru na vědomí, že pokud bylo k vypracování bakalářské práce
využito softwaru poskytnutého Univerzitou Tomáše Bati ve Zlíně nebo jinými
subjekty pouze ke studijním a výzkumným účelům (tedy pouze k nekomerčnímu
využití), nelze výsledky bakalářské práce využít ke komerčním
účelům;
\item beru na vědomí, že pokud je výstupem bakalářské práce jakýkoliv softwarový produkt, považují se za součást práce rovněž i zdrojové kódy, popř. soubory, ze kterých se projekt skládá. Neodevzdání této součásti může být důvodem k neobhájení práce.
\end{itemize}
\nmm{Prohlašuji,}
\begin{itemize}
 \normalsize
\item že jsem na bakalářské práci pracoval samostatně a použitou literaturu jsem citoval. V případě publikace výsledků budu uveden jako spoluautor.
\item že odevzdaná verze bakalářské práce a verze elektronická nahraná do IS/STAG jsou totožné.
\end{itemize}
\vspace{1cm}
\begin{tabular}{lc}
Ve Zlíně &\hspace{9cm} .......................\\
~ &\hspace{9cm} podpis diplomanta
\end{tabular}

% obrázky \obr{soubor.png}{scale}{popisek}
% tabulky \tab{popisek}{nastaveni}{obsah}
% tabulky v příloze \tabpri{vrch tabulky}{nastaveni}{obsah}
% rovnice \rov{popisek}{obsah}
% tučně \b{tučné}
% tučná kurzíva \bi{tučná kurzíva}
% kurzíva \it{kurzíva}
% citace text~\cite{zkratka knihy}
%********************************* Generování obsahu ************************************
\obsah
%********************************* úvod ************************************
\nn{Úvod}
text

%********************************* Vlastní obsah ************************************
%********************************* Teoretická část ************************************
\part{Teoretická část}

\sectionV{Úvod do problematiky}
\subsection{OS Linux}
Linux je v~informatice označení pro unixový operační systém (původně pouze jeho jádro). Linux je šířen v~podobě distribucí, které je snadné nainstalovat nebo přímo používat (tzv.~LiveCD). Zároveň se díky použitým licencím jedná o~volně šiřitelný software, takže je možné ho nejen volně používat, ale~i~dále upravovat a~distribuovat (kopírovat,~sdílet). Tím se odlišuje od proprietárních systémů (např.~Microsoft Windows či Mac OS X), za které je nutné platit a~dodržovat omezující licence.~\cite{WLinux}
\obr{./img/Linux_logo.png}{0.3}{Typický obrázek tučnáka spojovaný s linuxem}

\subsubsection{Dnešní použití OS Linux}
V soucasnosti je Linux součástí trhu se stolními počítači. Zpočátku se vývojáři Linuxu zaměřovali nasíťové systémy a~služby, kancelářské aplikace predstavovaly poslední bariéru, kterou bylo nutno překonat. Neradi priznáváme, že tomuto trhu dominuje Microsoft, proto v~posledních několika letech vznikala spousta alternativních projektů, jejichž cílem je nabídnout Linux jako vhodnou volbu na pracovní stanice. V~ránci těchto projektů vznikají snadno použitelná uživatelská rozhraní i~kancelářské aplikace, jako textové editory, tabulkové procesory a~podobně, kopatibilní s aplikacemi Microsoft Office.\\
Co se týče použití na serverech, má Linux pověst stabilní a spolehlivé platformy, na které běží databázové a~další služby takových společností jako je Amazon, americká pošta, německá armáda, Google, Facebook a další. Velmi oblíbený je Linux u poskytovatelů internetoveho přístupu a služeb, kde se používá jako firewall, proxy server nebo webový server. Počítač s Linuxem najdete i~u každého správce některého UNIXového systému, který jej používá jako pohodlnou administrativní stanici. Clustery linuxových počítačů se podílely na vzniku filmů jako Titanic nebo Shrek. Na poštách slouží jako centrály řídící směrování zásilek, velké vyhledávací stroje pomocí nich prohledávají Internet. To je jen ukázka několika z~mnoha tisíc náročných úkolů, které dnes Linux na celém světě vykonávajá.\\
Stojí také za zmínku, že moderní Linux běží nejen na pracovních stanicích, středně a~velkých serverech, ale i~na "hračkách", jako jsou PDA či mobilní telefony, ve spoustě zařízení spotřební elektroniky, a~dokonce i~v~experimentálních náramkových hodinkách, Linux je jediný OS na světě, který pokrývá takto širokou škálu HW.~\cite{LDP}

\newpage

\subsection{Distribuce Linux from scratch}
LFS je projekt poskytující návod, který vás provede krok za krokem sestavením vlastní Linuxové distribuce ze zdrojových kódů.~\cite{LFSwMAIN}
%Linux From Scratch (LFS) is a project that provides you with step-by-step instructions for building your own customized Linux system entirely from source
\obr{./img/lfs-logo.png}{1}{Logo Linux From Scratch}

\subsubsection{Užití Linux From Scratch}
Spousta lidí se může divit, proč se otravovat se sestavováním LFS, když je možné si jednoduše stáhnout už sestavenou distribuci Linuxu. Avšak i~přes některé obtíže jenž sestavování LFS skýtá, má tento proces své výhody.~\cite{LFS}
%Many wonder why they should go through the hassle of building a Linux system from scratch when they could just download an existing Linux distribution. However, there are several benefits of building LFS. Consider the following:

\begin{itemize}
 \item LFS učí uživatele jak Linux funguje uvnitř.
%LFS teaches people how a Linux system works internally
 \item Sestavování LFS učí o~všem co v~systemu běží, jak jednotlivé pracují a~závisí jedna na druhé. A~jak upravit systém podle chuti.
%Building LFS teaches you about all that makes Linux tick, how things work together and depend on each other. And most importantly, how to customize it to your own tastes and needs.
 \item Sestavením LFS získáme velice kompaktní Linuxový systém
%Building LFS produces a very compact Linux system
 \item Pokud instalujete běznou Linuxovou distribuci, nainstalujete i množství programů, které pravděpodobně nikdy nepoužijete. LFS jde sestavit i~ve velikosti nepřesahující 100MB
%When you install a regular distribution, you often end up installing a lot of programs that you would probably never use. They're just sitting there taking up (precious) disk space. It's not hard to get an LFS system installed under 100 MB. Does that still sound like a lot? A few of us have been working on creating a very small embedded LFS system. We installed a system that was just enough to run the Apache web server; total disk space usage was approximately 8 MB. With further stripping, that can be brought down to 5 MB or less. Try that with a regular distribution.
\item LFS je extrémě flexibilní. Máte moc systém sestavit přesně podle vašich potřeb.
%LFS is extremely flexible
%Building LFS could be compared to a finished house. LFS will give you the skeleton of a house, but it's up to you to install plumbing, electrical outlets, kitchen, bath, wallpaper, etc. You have the ability to turn it into whatever type of system you need it to be, customized completely for you.
\item LFS můžete zabezpečit na míru. Nemusíte čekat, jako u binárních distribucí, až někdo sestaví balíček s~bezpečtnostním patchem, který potřebujete. Můžete se si zkompilovat SW s~patchem sami.
%LFS offers you added security
%You will compile the entire system from source, thus allowing you to audit everything, if you wish to do so, and apply all the security patches you want or need to apply. You don't have to wait for someone else to provide a new binary package that (hopefully) fixes a security hole. Often, you never truly know whether a security hole is fixed or not unless you do it yourself.
\end{itemize}

\subsection{Scriptování v jazyce BASH}
(\b{B}ourne \b{A}gain \b{SH}ell)\\
Interpretovaný, neobjektový jazyk, určený především pro administraci a automatizaci *nix operačních systémů. Skripty obvykle většinu požadované činnosti vykonávají voláním systémových utilit. Podpora syntaxe Bashe je u textových editorů obvyklá. Bash je nainstalován prakticky na každém desktopovém Linuxu a na mnoha dalších *nix systémech.\cite{ABCBASH}

%##########
%###TODO###
%##########
\subsubsection{Základní informace a příklady}
\nadpis{Komentáře}\\
Komentáře jsou v bashi jako v jiných jazycích značeny znakem \# (sharp)
    \begin{codeframe} 
      \begin{Verbatim}{frame=single} 
   # cokoliv za tímto znakem je komentář
\end{Verbatim} 
    \end{codeframe}
Každý script by měl začínat komentářem, který říká jaký interpret shellu se má použít, pokud toto není uvedeno je použit defaultní interpret, což může znamenat problémy pokud jsme napsali script např. pro bash a v systému je defaultně jiný odlehčený interpret.
    \begin{codeframe} 
      \begin{Verbatim}{frame=single} 
#!/bin/bash
\end{Verbatim} 
    \end{codeframe}
Jaký defaultní interpret je použit můžeme zjistit pomocí příkazu:
     \begin{codeframe} 
      \begin{Verbatim}{frame=single} 
$ echo "/bin/sh -> `readlink -f /bin/sh`"
/bin/sh -> /bin/bash
\end{Verbatim} 
    \end{codeframe}

\nadpis{Výpis na terminál}\\ 
K výpisu na terminál slouží příkaz `echo`
    \begin{codeframe} 
      \begin{Verbatim}{frame=single} 
  echo hello world
\end{Verbatim} 
    \end{codeframe}
echo dokáže vypisovat také proměnné 
    \begin{codeframe} 
      \begin{Verbatim}{frame=single} 
  echo $PS1
\end{Verbatim} 
    \end{codeframe}
více v manuálových stránkách \b{man echo}\\

\nadpis{Proměnné}\\
Celý linuxový systém využívá proměnných a funkcí uložených přímo v BASHi. Vypsat všechny proměnné a funkce známé aktuálnímu interpretu příkazů můžeme příkazem \it{set}\cite{ABC_SBASH}.\\
Mezi základní proměnné v systému patří např.
    \begin{codeframe} 
      \begin{Verbatim}{frame=single} 
$USER #uloženo uživatelské jméno
$LANG #jazyk systému
$PS1  #nastavení uživatelského promtu
$BASH #uložena adresa defaultního interpretu příkazů
\end{Verbatim} 
    \end{codeframe}
Ukázka práce s proměnnými.
    \begin{codeframe} 
      \begin{Verbatim}{frame=single} 
$ jedna="Lokální proměnná"
$ export DVA="Proměnná exportovaná do podřízeného shellu"
$ readonly TRI="Proměnná pouze pro čtení, ale jen na lokální urovni"
$ export TRI
$ export
declare -x DVA="Proměnná exportovaná do podřízeného shellu"
declare -rx TRI="Proměnná pouze pro čtení, ale jen na lokální urovni"
$ readonly
declare -rx TRI="Proměnná pouze pro čtení, ale jen na lokální urovni"
$ echo $jedna
Lokální proměnná
$ TRI="Nová hodnota"
bash: TRI: readonly variable
$ bash
$ TRI="Nová hodnota"
$ echo $jedna
$ echo $DVA
Proměnná exportovaná do podřízeného shellu
$ echo $TRI
Nová hodnota
$ unset TRI
\end{Verbatim} 
    \end{codeframe}
\nadpis{Roury a přesměrování}\\
Opravdu důležitým prvkem jsou roury a přesměrování. Roura se značí pomocí operátoru | a připojuje výstup jednoho procesu na vstup druhého procesu.
    \begin{codeframe} 
      \begin{Verbatim}{frame=single} 
  cat /var/log/auth.log | grep ssh
\end{Verbatim} 
    \end{codeframe}

Pro přesměrování slouží operátory:
    \begin{codeframe} 
      \begin{Verbatim}{frame=single} 
 >  #přesměrování standardního výstupu do souboru,
     jestliže soubor existuje bude přepsán
 >>  #jako předchozí, ale data přídá na konec souboru
 <  #přesměrování standardního vstupu do souboru
 <<text  #jako předchozí, ale při výskytu řetězce text zašle
	  znak konce souboru
\end{Verbatim} 
    \end{codeframe}
\nadpis{Deskriptor souboru}\\
BASH rozlišuje 3 deskriptory souboru
\begin{description}
 \item[0] standardní vstup
 \item[1] standardní výstup
 \item[2] standardní chybový výstup
 \end{description}
    \begin{codeframe} 
      \begin{Verbatim}{frame=single}
 {
  #funkce a různé procedury
 } 2>&1 | tee $BUILD_DIR/LOG_$PROGRAM.log
\end{Verbatim} 
    \end{codeframe}

\nadpis{Základní příkazy}
 \begin{description}
  \item[cp] kopíruje soubory
  \item[rm] ruší soubory
  \item[mkdir] vytváří adresáře
  \item[rmdir] ruší prázdné adresáře
  \item[ln] vytvoří odkazy na soubory
  \item[chmod] změní přístupová práva k souborům
  \item[ls, dir, vdir] vypíše obsah adresářů
  \item[find] vyhledávání souborů
  \item[which] zobrazí absolutní cestu k programu
  \item[df] vypisuje informace o připojených FS
  \item[ps] informace o spuštěných procesech
  \item[cat, less] výpis souboru na obrazovku
  \item[xargs] spustí zadaný příkaz a zbylé argumenty čte ze standardního vstupu
  \item[grep] tiskne řádky, které odpovídají zadanému vzoru
  \item[wc] vypíše počet písmen, slov a řádků
  \item[sort] setřídí řádky
 \end{description}

\subsubsection{Podmínky a cykly}
\nadpis{IF}\\
Obecná struktura:
    \begin{codeframe} 
      \begin{Verbatim}{frame=single}
if výraz;
  then příkazy 
 elif výraz;
  then příkazy
 else příkazy 
fi
\end{Verbatim} 
    \end{codeframe}
Ukázka syntaxe:
    \begin{codeframe} 
      \begin{Verbatim}{frame=single}
if [ "$USER" == "root" ]; then
  echo "Ahoj admine";
elif [ "$USER" == "Martin" ]; then
  echo "Ahoj Martine";
else
  echo "Ahoj nějaký jiný uživately";
fi
\end{Verbatim} 
    \end{codeframe}
\b{POZOR!!!} za znakem [\textvisiblespace musí být mezera! Jedná se o program a za mezerou jsou jeho argumenty.\\

Místo [ můžete používat \it{test}. Jsou to stejné programy svázané pevným odkazem.\\
Stejná ukázka s použitím programu \it{test}\cite{ABC_SBASH}:
    \begin{codeframe} 
      \begin{Verbatim}{frame=single}
if test "$USER" == "root" ; then
  echo "Ahoj admine";
elif test "$USER" == "Martin" ; then
  echo "Ahoj Martine";
else
  echo "Ahoj nějaký jiný uživately";
fi
\end{Verbatim} 
    \end{codeframe}
Podmínky samozřejmě můžete spojovat pomocí operátorů \&\& (a zároveň platí) a || (nebo platí). Operátor || má velké využití ve scriptech pro testování jestly funkce skončila úspěšně\cite{ABC_SBASH}.
    \begin{codeframe} 
      \begin{Verbatim}{frame=single}
#testujeme dvě podmínky
if [ $USER == "root" ] && [ $LANG == "cs_CZ" ]; then
  echo "Jsi český admin"
fi

#pokud funkce skončí chybou script skončí s příznakem 1
funkce || exit 1
\end{Verbatim} 
    \end{codeframe}

Operátory testování výrazů:
    \begin{codeframe} 
      \begin{Verbatim}{frame=single}
[ výraz ] - délka řetězce je nenulová
[ -z výraz ] - délka řetězce je nulová
[ výraz1 == výraz2 ] - řetězce jsou shodné
[ výraz1 != výraz2 ] - řetězce jsou různé
[ výraz1 -eq výraz2 ] - čísla jsou shodná
[ výraz1 -le výraz2 ] - výraz1 <= výraz2
[ výraz1 -lt výraz2 ] - výraz1 < výraz2
[ výraz1 -ge výraz2 ] - výraz1 >= výraz2
[ výraz1 -gt výraz2 ] - výraz1 > výraz2
[ výraz1 -ne výraz2 ] - čísla jsou různé
\end{Verbatim} 
    \end{codeframe}
Operátory testování souborů:
    \begin{codeframe} 
      \begin{Verbatim}{frame=single}
[ výraz1 -ef výraz2 ] - soubory sdílejí stejný i-uzel
[ výraz1 -nt výraz2 ] - první soubor je novější
[ výraz1 -no výraz2 ] - první soubor je starší
[ -e výraz ] - soubor existuje
[ -d výraz ] - soubor je adresář
[ -f výraz ] - soubor je obyčejný soubor
[ -L výraz ] - soubor je symbolický odkaz
[ -w výraz ] - soubor je zapisovatelný
[ -x výraz ] - soubor je spustitelný
\end{Verbatim} 
    \end{codeframe}
\nadpis{CASE}\\
Obecná struktura:
    \begin{codeframe} 
      \begin{Verbatim}{frame=single}
case slovo in 
  vzory ) příkazy;;
  ... 
esac:
\end{Verbatim} 
    \end{codeframe}

Výběr grafického prostředí pomocí case:

    \begin{codeframe}
      \begin{Verbatim}{frame=single}
case $1 in
	gnome) exec gnome-session;;
	kde) exec openbox-session;;
	*) echo "vyber gnome nebo kde";;
   #*) znamená cokoliv jiného
esac
\end{Verbatim} 
    \end{codeframe}
\nadpis{FOR}\\
příkaz for funguje stejně jako v jiných programovacích jazycích, ale jeho syntaxe je trochu jiná.
    \begin{codeframe}
      \begin{Verbatim}{frame=single}
#příkaz bude postupně do proměnné $cislo dosazovat hodnoty 
#a echo je bude vypisovat na obrazovku

for cislo in 10 20 30 40 50 60 70 80 90 100; do
  echo $cislo
done
\end{Verbatim} 
    \end{codeframe}
\nadpis{WHILE}\\
    \begin{codeframe}
      \begin{Verbatim}{frame=single}
cislo=0
# Podmínka je splněna jestliže $cislo != 100
while [ "$cislo" -ne 100 ]; do
  cislo=$((cislo + 10))
  echo $cislo
done
\end{Verbatim} 
    \end{codeframe}
\nadpis{UNTIL}\\
    \begin{codeframe}
      \begin{Verbatim}{frame=single}
cislo=0
# Cyklus pokračuje dokud není splněna podmínka
until [ "$cislo" -eq 100 ]; do
  cislo=$((cislo + 10))
  echo $cislo
done
\end{Verbatim} 
    \end{codeframe}

\subsubsection{Funkce,pole příkazy}
\nadpis{Speciální proměnné}\\
Informace o názvu skriptu, počtu předaných argumentů a argumenty samotné jsou uloženy ve speciálních proměnných. Tyto proměnné se používájí stejným způsobem ve scriptech i ve funkcích\cite{ABC_SBASH}.
\begin{description}
 \item[\$0] název skriptu
 \item[\$\#] počet předaných argumentů
 \item[\$IFS] seznam znaků, který je použit k oddělování slov atp., např. když shell čte vstup
 \item[\$1 až \$9] první až devátý argument předaný skriptu
 \item[\${n}] libovolný n-tý argument předaný skriptu
 \item[\$*] obsahuje všechny argumenty oddělené prvním znakem z \$IFS
 \item[\$@] jako předchozí, ale k oddělení se nepoužívá první znak z \$IFS
 \end{description}
\nadpis{Funkce}\\
Provádění funkcí je mnohem rychlejší než provádění skriptů, protože funkce si shell udržuje trvale předzpracované v paměti. Funkce musí být 
definována dříve než bude použita. Příkaz export lze použít i pro funkce, ale musí být zapnutý mód allexport\cite{ABC_SBASH}.
    \begin{codeframe}
      \begin{Verbatim}{frame=single}
$ set -o allexport
$ prvni_funkce() {
> echo "Jsem první funkce a vypisuji text"
> }
$ export prvni_funkce
$ prvni_funkce
Jsem první funkce a vypisuji text
$ bash
$ prvni_funkce
Jsem první funkce a vypisuji text
\end{Verbatim} 
    \end{codeframe}
Pomocí klíčového slova local můžeme také vytvořit lokální proměnné funkce. Jestliže bude existovat globální proměnná se stejným názvem, bude ve funkci potlačena\cite{ABC_SBASH}.
    \begin{codeframe}
      \begin{Verbatim}{frame=single}
#!/bin/bash

jedna="První globální proměnná"
dva="Druhá globální proměnná"

lokalni_promena() {
  local jedna="První lokální proměnná"

  echo $jedna
  echo $dva
}

lokalni_promena

echo $jedna
echo $dva
\end{Verbatim} 
    \end{codeframe}
\nadpis{Příkazy}\\
Příkazy můžeme rozdělit na zabudované a normální. Zabudované příkazy nemůžeme spustit jako externí programy, ale většinou mají své ekvivalenty ve formě externích programů. Normální příkazy jsou externí programy a jejich vykonání je pomalejší než u zabudovaných příkazů\cite{ABC_SBASH}.
\begin{description}
 \item[break] vyskočí z cyklu
 \item[:] nulový příkaz
 \item[continue] spustí další iteraci cyklu
 \item[.] provede příkaz v aktuálním shellu
 \item[eval] vyhodnotí zadaný výraz
 \item[shift] posune poziční parametry
 \item[read] načte uživatelský vstup, jako argument se použije název proměnné, do které se má uložit
 \item[stty] mění a vypisuje charakteristiky terminálové linky
 \item[exec] spustí nový shell nebo jiný zadaný program a nebo upraví deskriptor souboru
 \item[exit n] ukončení skriptu s návratovým kódem n (n = 0 - úspěšné ukončení, n = 1 až 125 - chyba, ostatní n jsou rezervovány)
 \item[printf] není dostupný ve starých shellech a při vytváření formátovaného výstupu byste mu měli dávat přednost před příkazem echo podle specifikace X/Open
 \end{description}



%\subsubsection{Spojení s OS linux}


\sectionV{Kompilace zdrojových kódů}
\subsection{Překladač (kompilátor)}
Překladač (též kompilátor, anglicky compiler z~to compile – sestavit, zpracovat) je v~nejčastějším smyslu slova nástrojem používaným programátory pro vývoj softwaru. Kompilátor slouží pro překlad algoritmů zapsaných ve vyšším programovacím jazyce do jazyka strojového, či spíše do strojového kódu. Z širšího obecného hlediska je kompilátor stroj, respektive program, provádějící překlad z nějakého vstupního jazyka do jazyka výstupního. Z~matematického hlediska je kompilátor funkce, která mapuje jeden nebo více zdrojových kódů podle překladových parametrů na kód ve výstupním jazyce.~\cite{Wkom}
\subsection{Důležité soubory}
Zdrojové kódy programů jsou uloženy souborech rozličných formátu podle účelu a~jazyka v~němž je program napsán. Ale každý program by měl obsahovat i~další soubory, které mají význam pro uživatele, kteří chtějí program zkompilovat nebo ho dále upravovat. Tyto soubory jsou,ale spíše dobrým mravem a~záleží na programátorovy jestly je jeho projekt bude obsahovat.
\subsubsection{LICENSE (COPYING)}
Soubor obsahující licenci pod kterou je program vydán. Licence je důležitá, protože určuje jak smí uživatel s programem nakládat. U~programů s~otevřeným zdrojovým kódem se neastěji používají licence GNU GPL a BSD.\\ \b{GPL} v jednoduchosti říká, že můžete s programem libovolně nakládat, avšak pokud provedete jakékoliv modifikace, musíte zdrojové kódy opět uvolnit pod stejnou licencí \it{(jedná se o licenci tzv. virovou)}. Anglický originál licence je lze možno nalézt na \href{http://www.opensource.org/licenses/gpl-3.0}{opensource.org} Pod touto licencí je šířeno Linuxové jádro i~sada nástrojů projektu GNU, které Linuxové jádro standartně distribuováno.\\ \b{BSD} Umožňuje volné šíření licencovaného obsahu, přičemž vyžaduje pouze uvedení autora a~informace o~licenci, spolu s~upozorněním na zřeknutí se odpovědnosti za dílo.~\cite{BSDL} Anglický originál licence je lze možno nalézt na \href{http://www.opensource.org/licenses/bsd-license.php}{opensource.org}. Pod touto licencí šířeno např. jádro stejnojmeného operačního systému BSD nebo operační systém HAIKU.\\
Často bývá licence uvedena jako součást souboru README.
\subsubsection{INSTALL}
Soubor INSTALL obsahuje instalační informace pro uživatele. Obsahuje informace o~tom jak program zkompilovat a~informace o~jeho nastavení. U~menších projektů bývají často tyto informace součástí souboru README, naopak u velkých projektů se často tyto informce přesunují na internet.
\subsubsection{Dokumnetace}
Dokumentace obsahuje informace o~používání programů a~je velmi důležitá především u~knihoven, protože obsahuje popis funkcí, které danná knihovna poskytuje. Většina distribucí poskytuje dokumentaci v samostatných balíčcích, protože spousta uživatelů dokumentaci nijak nevyužije a~ušetří se tím místo v uživatelově počítači a~především se tím sníží zatížení a množství přenesených dat z repozitářů distribucí.
\subsubsection{README}
Soubor obsahuje základní informace o~programu. Může, a~často i~obsahuje informace ze všech výše uvedených souborů. Avšak někdy není vůbec, protože je vše uvedeno ve výše uvedených souborech.
\subsubsection{Configure}
Soubor s nasteveními pro překlad. Jedná se v~zásadě o~BASH script, kterým můžete nastavit co a~jak se má v programu kompilovat. Různými volbami, které jsou uvedeny v~INSTALL,README, nebo v~nějaké online dokumentaci, můžete nastavit \it{např. cesty kam se mám program nebo jeho části nainstalovat nebo také které části programu se mají přeložit}. Configure je scriptem BASHe a proto je také tak volána, výsledekem configure je vygenerovaní souboru, které řídí překlad.
\subsubsection{Další soubory a alternativy některých souborů}

\subsection{Kompilace}
Samotná kompilace sestává s~prostudování nejčastěji souborů INSTALL nebo README a~postupem podle návodu v nich. Ale obecně ji lze zahrnout do posloupnosti tří ``příkazů''.

    \begin{codeframe} 
      \begin{Verbatim}{frame=single} 
   ./configure [options]
\end{Verbatim} 
    \end{codeframe} 

vygeneruje soubory potřebné pro překlad
    \begin{codeframe} 
      \begin{Verbatim}{frame=single} 
   make
\end{Verbatim} 
    \end{codeframe} 
zkompiluje zdrojové kódy 
\footnote{make neslouží pouze ke kompilaci zdrojových kódů programů, ale i~jako univerzální utilita pro překlad projektů. LFS jej například používá pro generování PDF,HTML,… verze knihy z XML souborů}
    \begin{codeframe} 
\begin{Verbatim}{frame=single} 
   make install
\end{Verbatim} 
    \end{codeframe} 
nahraje soubory do systému všechny potřebné soubory

\sectionV{Linuxové distribuce}
Linuxová distribuce je v~informatice označení pro snadno použitelný Linuxový systém, přičemž název je odvozen od jádra Linuxu, které je základní součástí každé distribuce. Distribuce jsou vytvářeny proto, aby uživatel nemusel jádro a~doplňující software sám náročným způsobem skládat do funkčního celku. Obsažený software je volně dostupný na Internetu (typicky open source software). Pro odlišení jsou distribuce pojmenovány (např. Ubuntu, Fedora, …), přičemž každá je jinak zaměřena (pro nezkušeného uživatele, pro vývojáře, výuku atp.).\cite{WDIST}

\subsection{Hlavní odlišnosti}
Linuxové distribuce se liší v~mnoha více či méně zásadních ohledech ohledech. Nejvýraznějšími rozdíly, které dělají distribuce distrbucemi jsou: Cyklus vydání, balíčkovací systém, základní SW výbava, nasazení,…
\subsubsection{Cyklus vydání}
V zásadě rozlišujeme 3 vydávací cykly:
\begin{description}
 \item[Dlouhý cyklus vydání] Tento cyklus vydání je delší než jeden rok. Používají ho distribuce, které nezakládají na aktuálnosti SW, ale na jeho stabilitě. Předevší pak \b{Debian (stable)} a~\b{Red Hat Enterprise Linux} (dále pouze RHEL). Vývojáři Debianu před nedávnem (7. 2009) rozhodli o~tom, že bude Debian vydáván v pravidelných intervalech a~to tak, že na konci každého lichého roku dojde k zmrazení větve \it{testing}, ta je následně nějaký čas testována aby byly odstraněny všechny bugy, po jejich odstranění je prohlášena za stabilní a~balíčky v~ní obsažené jsou přesunuty do větve \it{stable}
\footnote{časový odstup mezi vydáním verze 5 lenny a aktuální 6 squeeze byl 2 roky. Nejdelší odstup mezi vydáními byl 3 roky a~to mezi vydáním 3.0 woody a~3.1 sarge}. RHEL vychází v nepravidelných cyklech (cca 2-3roky) a~v~mezičase vychází updaty. 
\footnote{časový odstup mezi verzí 5 a~6, byl 3.5roku a~v~mezičase vyšlo 5 update verzí.}
 \item[Krátký cyklus vydání] Tipicky půl roku až rok. Používá ho většina desktopových distribucí. Tento vydávací cyklus je kompromisem mezi stabilitou a~aktuálností SW. Např. \b{Ubuntu}
\footnote{\b{Ubuntu}: cyklus vydání je půl roku, u~jeho derivátů pak zpravidla o~něco málo delší. Vydaní probíhá pravidelně v dubnu a říjnu, přičemž každé dva roky vyjde LTS verze s podporou na dva roky. Poslední verze: 11.04}, \b{Mandriva} 
\footnote{\b{Mandriva}: cyklus dlouhý půl roku, vychází verze s~číslem roku a~verze spring. Poslední verze: 2010 Spring}(dříve Mandrake), \b{Fedora} 
\footnote{\b{Fedora}: cyklus vydání každého půl roku. Poslední verze: 14},…
 \item[Průbězné aktualizace (rolling-updates)] Distribuce používající rolling-updates se vyznačují především aktuálností SW, většinou udržují větev pro uživatele a~testovací větev kde je SW podroben krátkému testovaní, než se přesune do uživatelské větve. Tyto distribuce většinou vydávají jednou za čas instalační liveCD aby bylo možné je nainstalovat i~na aktuální HW. \b{Gentoo}, \b{Arch Linux}, \b{Debian sid (experimental)}
\footnote{testovací větev debianu, která se jmenuje Sid používá právě rolling-updates, po otestování SW obsažený ve větvy putuje do větve \it{testing}},…
 \end{description}

\subsubsection{Balíčkovací systémy}
Balíčkovací systémy jsou standartní součástí nejen Linuxových distribucí. Balíčkovacím systémem je i~systém aktualizací MS Windows nebo oblíbené úložiště aplikací (markety) ve smartphonech (Android market, BlackBerry App World, Ovi Store, Windows Marketplace,…).
\begin{description}
 \item[DPKG] \it{Debian package management system} Jedná se o~základní ``nízko úrovňový`` balíčkovací systém pro debian, umožňuje pouze instalaci mazání a~výpis balíčků (balíčky jsou vždy s~příponou deb).\\
Nejčastěji se používají programy, které mají rozšířenou funkcionalitu, jsou založené a~volají dpkg. Nejznámějším je \b{APT} \it{(Advanced Packaging Tool)}\cite{DPKG}, od apt se upouští a doporučuje se používat jeho frontend \b{Aptitude}, protože aptitude dokáže lépe řešit konflikty balíčků, poskytuje jednotné rozhraní pro správu balíčků
\footnote{APT je několik aplikací (apt-cache, apt-get,…), které každý poskytují jinou funkci} a~GUI založené na ncurses Pro tento balíčkovací systém existuje i~velké množství GUI: synaptic (GTK), Ubuntu Software Center (GTK),KPackage (Qt),…\\
Tento balíčkovací systém používájí kromě již zmíněného debianu i~jeho deriváty jako je Ubuntu, ale i~další distribuce a~OS. Existuje port pro MacOSX nebo Opensolaris\cite{DPKG}.
 \item[RPM] \it{Red Hat Package Manager} Druhý nejčastěji používaný balíčkovací systém. Je používán množstvím velkých distribucí včele s RHEL (Red Hat Enterprise Linux), také je používán distribucemi Fedora, Mandriva, SUSE,ArkLinux,...\\
RPM označuje jak název základního balíčkovacího systému tak i~název balíčků samotných (vždy s~příponou rpm). RPM se především vyznačuje nepřenosností z jedné distribuce na druhou (narozdíl od deb balíčků kde to více méně funguje). Proto se lze často setkat s názorem,že rmp neumí pořádně řešit závislosti,tímto názorem se většinou vyznačují lidé, kteří kombinují repozitáře různých distribucí založaných na RPM.\\
RPM se často vyznačuje ještě jedním specifikem a~to tím, že na rozdíl od DPKG kde se nejčastěji používají obrovské repositáře s~obrovským množstvím balížků se u RPM používá velké množství repositářů s už ne tak velkým množstvím software. Např. Debian používá jeden repozitář pro každou jeho verzi (Stable,Testing,Unstable) kdyžto u RPM distribucí se setkáme s repozitáři zvláš pro multimedia a core system apd...\\
 \item[PACMAN] Jedná se pravděpodobně o~jeden s~nejrychlejších balíčkovacích systémů a~je součástí distribuce ArchLinux jejích derivátů larch, FaunOS, Archie, Chakra a~je také používám v distribuci DeLi Linux a~Frugalware Linux (ve Frugalware linux byl pacman forknut a~jeho vývoj probíhá odděleně). Pacman má výhodu proti jiným balíčkovacím systémům nejen v rychlosti, ale také v tvoření balíčků. Na rozdíl od DPKG, kde existují rozsáhlé návody jak vytvořit balíček stačí u~Pacmana vytvořit podle jasných pravidel script s názvem PKGBUILD, který obsahuje všechno od licencí, závislostí, zdrojů kontrolních součtů až po návod jak postupovat při sestavení balíčku, poté stačí napsat makepkg a~balíček se sám vytvoří bez jakéhokoliv zásahu.\\
Na tomto principu fungují jak source repoziráře v~ArchLinuxu zvané ABS tak i~uživatelské repozitáře AUR.\\
Pro pacman existuje velké množství wrapperů
\footnote{wrapper je program, který funguje pouze s jinym programem a rozšiřuje jeho funkcionalitu} pacman-color (přidává do výstupu barvy). Defaultní Pacman také neumí pracovat s~AURem proto vzniklo několik wrapperů, které přidávají podporu vyhledávání a~instalace balíčků z~AUR např. Clyde nebo yaourt. Jiné wrappery zase přidávají podporu stahování z více zdrojů naráz aby byl balíčet stáhnut co nejdříve např. PowerPill nebo Bauerbill.\\
Všechny tyto programy pracují s~repozitáři a~balíčky stejně jsou tedy kompatibilní a~mají dokonce i stejnou syntaxi.\\
Existují i~GUI pro pacman, nejznámější je asi shaman (Qt).
 \item[Portage] Portage je balíčkovací systém GNU/Linuxové distribuce Gentoo Linux, který je podobný systému portů z FreeBSD. Portage je napsán v programovacím jazyce Python. Hlavním příkazem je zde příkaz emerge. Tento balíčkovací systém využívá balíčky ebuild, které zajistí zkompilovaní podle nastavených systémových proměnných jako jsou například USE, CFLAGS, CHOST a LINGUAS. Portage automaticky dohledá závislosti, stáhne požadované balíčky a program nainstaluje.\\
Existují různé grafické nadstavby, např. Kuroo (Qt) nebo Porthole (GTK).
 \item[Další,…] Další balíčkovací systémy je např. \b{slapt-get} (balíčkovací systém,který používá nejstarší dodnes vyvíjená distribuce Slackware a~její deriváty (BackTrack, VectorLinux,Slax,...) balíčkovací systém používá obyčejné Tar balíčky komprimované Gzipem), \b{Equo}, \b{Smart Package Manager},…
 \end{description}

\subsubsection{Nasazení}
Linuxové distribuce se dále liší podle druhu zařízení na, které jsou určena. Nejčastěji je to server nebo desktop, ale existují i~jiné druhy zařízení na, kterých linux běží.
\begin{description}
 \item[User choise (volba uživatele)] Některé distribuce si nedělají starosti s určením na, kterém druhu zařízení budou použity. Poskytují pouze základní sadu nástrojů (programů), které uživatel doplňuje podle svých požadavků. Toto je typická vlastnost Debianu, Archlinuxu, LFS nebo Gentoo.\\
Tyto distribuce je možné většinou nasadit, na vsechny níže zmíněné zařízení.
 \item[Desktop] Dalšími zařízeními na které je linux určen jsou desktopové (personální) počítače. Tyto distribuce poskytují grafické programy pro bězné použití např. v kanceláři. Tipicky např. Ubuntu (desktop), Fedora, Mandriva,…
 \item[Server] Serverové distribuce obsahují základní nástroje pro nasazení na serverových počítačích a~neobsahují narozdíl desktopových distribucí grafický server Xorg, ale obsahují serverové nástroje jako je např. webový server apache. Tipicky serverovou distribucí je např. Ubuntu (server), CentOS, RHEL,…
 \item[Enterprise] Enterprise distribuce jsou distribuce určené pro podnikové nasazení a~na rozdíl od bězných distribucí mají placenou podporu ze strany dodavatele a~delší testovací dobu např. SLED (SUSE Linux Enterprise Desktop) nebo RHEL.
 \item[Embedded] Jedná se o~distribuce směrované na určité zařízení. Nejznámější je např. openwrt což je distribuce určená pro síťové nasazení, např, routery, gatewaye apd,…\\
Linux, ale najde i~v~embedded zařízeních jako jsou settopboxy, televize, IP kamery, pračky, mikrovlnky, ledničky a~jiné jednoúčelové zařízení,…
 \item[Mobilní] Asi nejnovějším prostředí ve, kterém momentálně již dominuje systém linux jsou mobilní telefony. Zde snad ani není třeba zmiňovat momentálně nejprodávanější OS pro mobilní telefony od společnosti Google, Android. Existují, ale i~další distribuce pro mobilní telefony jako je OpenMoko používaný v~mobilu Neo FreeRunner nebo Bada od společnosti Samsung.
 \item[další,…] 
 \end{description}

\subsubsection{Architektury}
Linuxové distribuce jsou také směřovány na různé procesorové architektury, většinou distribuce nesměřují jenom na jednu architekturu, ale na více architektur současně. Příkladem za všechny je distribuce Debian, která je známá také podporou pro největší množství architektur. Např. MS Windows 7 je dostupný pouze pro architektury x86 a x86\_64 (x64), zatímco Debian podporuje oficiálně 10 architektur a~neoficiálně 16 architektur. Nejčastěji však většina distribucí podporuje architektury x86 a x86\_64 a~v~poslední době také ARM.

\subsubsection{Další rozdíly}
Rozdíly ikdyž ne tak zásadní jsou v softwarové výbavě, ta sice jde ruku v~ruce s~nasazením linuxu, ale ve světě desktopů a~hlavně distribuce Ubuntu se v posledních několika letech oběvují distribuce, které se odlišují pouze v~základním uživatelském prostředí. Oficiálně  společnost Canonical (tvůrce Ubuntu) vytváří 4 distribuce, které se odlišují od Ubuntu pouze v~základním uživatelském prostředí a~další 4 distribuce, které se liší v softwarove výbavě.
%
% TODO dopsat distribuce
%
\\
Velký rozdíl zavádí do linuxových ditribucí GoboLinux. Tato distribuce překopává základní rozdělení Linuxového filesystému na více intuitivní a~uživatelsky příznivější.
%
% TODO rozepsat
%

\subsection{Možnosti tvorby distribuce}
Linuxovou distribuci lze vytvořit více způsoby, nejběžnějším způsobem je sestavení ze zdrojových kódů. Je třeba dávat pozor na licenční ujednání a dle GNU/GPL licence (pod kterou je distribuováno linuxové jádro) musí autor uvolnit zdrojové kódy. U linuxoveho jádra to zahrnuje většinou použité patche.
\subsubsection{Vytvoření ze zdrojových kódů}
Vytvoření ze zdrojových kódů reprezentuje například použitá "distribuce" Linux From Scratch. Postup se obecně skládá z několik částí, které jsou více rozepsány v projektové části. % TODO doplnit konkrétní umístění a odkaz
\begin{enumerate}
 \item Prve je třeba oddělit systém a vytvořit toolchain, který slouží k sestavení nové distribuce nezávislé na předchozím hostovském systému.
\item sestavení vlastní sady základních nástrojů pro pouzití systému. Sada obsahuje překladače, nástroje pro práci se soubory a jiné potřebné programove vybavení.
\item nastavení bootovacího procesu systému.
\item vytvoření tabulky souborových systémů, kompilace jádra systému, nastavení bootloaderu
\end{enumerate}

\subsubsection{Derivát stávající distribuce}
Velmi populární se v posledních letech staly nesčetné deriváty distribuce Ubuntu. K tomuto slouží jednoduchý nástroj \b{Reconstructor}.
\subsubsection{Online sestavení}

\sectionV{Zabezpečení Linuxového systému}
\subsection{Mechanismy a správa hesel}
\subsection{Internetové zabezpečení}

\sectionV{Tvorba LiveCD}
\subsection{Výhody/nevýhody LiveCD}
\subsection{Možnosti tvorby LiveCD}

%\subsubsection{Podpodnadpis}

%********************************* Analytická část ************************************
%\part{Analytická část}
%\sectionV{Nadpis}
%\subsection{Podnadpis}
%********************************* Projektová část ************************************
\part{Projektová část}
\sectionV{LFS by bash scripts}
\subsection{Struktura a použití}
\subsection{Návod pro sestavení}

%********************************* Závěr ************************************
\nn{Závěr}
text
%********************************* Seznam Literatury ************************************
\seznamlit{
\bibitem{BASHen}COOPER, Mendel. {\it{Advanced Bash-Scripting Guide}} [online]. Revision 6.2. [s.l.] : [s.n.], 17 March 2010, Dostupné z~WWW: \href{http://www.tldp.org/LDP/abs/html/index.html}{http://www.tldp.org/LDP/abs/html/index.html}. [e-kniha] 
\bibitem{BASHcz}MILAR, Bohdan. {\it{Bash očima Bohdana Milara}} [online]. [s.l.] : LinuxExpres, 2008. Dostupné z~WWW: \href{http://www.root.cz/knihy/bash-ocima-bohdana-milara/}{http://www.root.cz/knihy/bash-ocima-bohdana-milara/}. [e-kniha] 
\bibitem{LFS}BEEKMANS, Gerard. {\it{Linux From Scratch}} [online]. 6.7. [s.l.] : [s.n.], 1999, 2010. Dostupné z~WWW: \href{http://www.linuxfromscratch.org/lfs/view/stable/}{http://www.linuxfromscratch.org/lfs/view/stable/}. [e-kniha] 
\bibitem{KERNEL}KROAH-HARTMAN, Greg. {\it{Linux kernel in a nutshell}} [online]. [s.l.] : O Reilly Media, Inc., 2006. Dostupné z~WWW: \href{http://www.root.cz/knihy/linux-kernel-in-a-nutshell/}{http://www.root.cz/knihy/linux-kernel-in-a-nutshell/}. [e-kniha] 
\bibitem{LDP}KOLEKTIV, Autorů, et al. {\it{Linux: Dokumentační projekt}} [online]. 4. vyd. Brno : Computer Press, 2008. Dostupné z~WWW: \href{http://www.root.cz/knihy/linux-dokumentacni-projekt-4-vydani/}{http://www.root.cz/knihy/linux-dokumentacni-projekt-4-vydani/}. ISBN 978-80-251-1525-1. [e-kniha]
\bibitem{WLinux}LITERÁK, Leoš. {\it{Co je to Linux. AbcLinuxu.cz}} [online]. 17.1.2006, [cit. 2011-03-30]. Dostupné z~WWW: \href{http://www.abclinuxu.cz/ucebnice/uvod/co-je-to-linux}{http://www.abclinuxu.cz/ucebnice/uvod/co-je-to-linux}.
\bibitem{LFSwMAIN}BEEKMANS, Gerard. {\it{Linux From Scratch}} [online]. 1998 [cit. 2011-02-04]. Linux From Scratch. Dostupné z~WWW:\href{http://www.linuxfromscratch.org/lfs/}{http://www.linuxfromscratch.org/lfs/}.
\bibitem{Wkom}MARTINEK, David. {\it{Fakulta Informačních Technologií VUT}} [online]. 23. září 2010 [cit. 2011-03-30]. Překlad programu. Dostupné z WWW: \href{http://www.fit.vutbr.cz/~martinek/clang/gcc.html}{http://www.fit.vutbr.cz/~martinek/clang/gcc.html}.
\bibitem{BSDL}{\it{Nette Framework}} [online]. 2011 [cit. 2011-03-30]. Český překlad nové BSD licence. Dostupné z WWW: \href{http://nette.org/cs/licence/newbsd}{http://nette.org/cs/licence/newbsd}.
\bibitem{WDIST}{\it{Linuxové distribuce. In Wikipedia : the free encyclopedia}} [online]. St. Petersburg (Florida) : Wikipedia Foundation, [cit. 2011-02-23]. Dostupné z~WWW: \href{http://cs.wikipedia.org/wiki/Linuxov\%C3\%A1\_distribuce}{http://cs.wikipedia.org/wiki/Linuxové\_distribuce}.
\bibitem{DPKG}{\it{The Debian GNU/Linux FAQ}} [online]. 2009 [cit. 2011-03-30]. Dostupné z~WWW: \href{http://www.debian.org/doc/FAQ/ch-pkgtools.en.html}{http://www.debian.org/doc/FAQ/ch-pkgtools.en.html}.
\bibitem{Portage}{\it{Dokumentace Gentoo Linuxu}} [online]. 2006 [cit. 2011-03-30]. Dostupné z~WWW: \href{http://www.gentoo.org/doc/cs/handbook/handbook-x86.xml?part=2\&chap=1}{http://www.gentoo.org/doc/cs/handbook/handbook-x86.xml?part=2\&chap=1}.
\bibitem{ABCBASH}{\it{ABCLinuxu}} [online]. 13.11.2010 [cit. 2011-04-29]. Bash. Dostupné z WWW: \href{http://www.abclinuxu.cz/software/programovani/jazyky/bash}{http://www.abclinuxu.cz/software/programovani/jazyky/bash}.
\bibitem{ABC_SBASH}{\it{FUCHS, Jan. ABCLinuxu}} [online]. 2003 [cit. 2011-04-30]. Seriál: BASH. Dostupné z WWW: \href{http://www.abclinuxu.cz/serialy/bash}{http://www.abclinuxu.cz/serialy/bash}.
}
%********************************* Seznam zkratek ************************************
\seznamzkr

\begin{tabular}{ll}
LFS & Linux From Scratch \\
OS & Operační systém\\
HW & Hardware\\
SW & Sogtware\\
GPL & General Public License\\
BSD & Berkeley Software Distribution\\
EULA & End-User-License-Agreement\\
RHEL & Red Hat Enterprise Linux\\
SLED & SUSE Linux Enterprise Desktop\\
Např & například\\
APT & Advanced Packaging Tool\\
DPKG & Debian package management system\\
GUI & Graphic user interface\\
RPM & Red Hat Package Manager\\
\end{tabular}
%********************************* Seznam obrázků ************************************
\seznamobr
%********************************* Seznam tabulek ************************************
\seznamtab
%********************************* Seznam příloh ************************************
\listofappendices

\priloha{Název přílohy}

\end{document}
